---
import { ChevronRight, Database, Eye, Globe, Shield, Zap } from 'lucide-react'
import { cn } from '../utils'

const products = [
  {
    name: 'Tracehound',
    tagline: 'The Core',
    description: 'Security buffer & quarantine. Catches threats, preserves evidence.',
    status: 'active',
    statusLabel: 'Available',
    color: '#8dde23',
    icon: Shield,
    href: '/docs/getting-started',
  },
  {
    name: 'Argos',
    tagline: 'The Observer',
    description: 'Runtime behavioral observer. Detects anomalies before users notice.',
    status: 'development',
    statusLabel: 'In Development',
    color: '#a855f7',
    icon: Eye,
    href: '/argos',
  },
  {
    name: 'Muninn',
    tagline: 'The Memory',
    description: 'Threat metadata archive. Patterns, correlations, research data.',
    status: 'coming',
    statusLabel: 'Q2 2026',
    color: '#10b981',
    icon: Database,
    href: '/muninn',
  },
  {
    name: 'Huginn',
    tagline: 'The Scout',
    description: 'External threat intel integration. IP reputation, MITRE mapping.',
    status: 'coming',
    statusLabel: 'Q2 2026',
    color: '#3b82f6',
    icon: Globe,
    href: '/huginn',
  },
  {
    name: 'Talos',
    tagline: 'The Enforcer',
    description: 'Policy-driven response. Block, throttle, challenge â€” on command.',
    status: 'coming',
    statusLabel: 'Q2 2026',
    color: '#f97316',
    icon: Zap,
    href: '/talos',
  },
]

const statusStyles: Record<string, string> = {
  active: 'bg-green-500/10 border-green-500/30 text-green-400',
  development: 'bg-yellow-500/10 border-yellow-500/30 text-yellow-400',
  coming: 'bg-white/5 border-white/10 text-text-muted',
}
---

<section id="ecosystem" class="py-24 border-t border-surface-highlight">
  <div class="container-custom">
    <div class="text-center mb-16">
      <span class="text-xs font-mono text-primary tracking-wider uppercase">The Ecosystem</span>
      <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-4">
        More than a library.<br />
        <span class="text-text-muted">A complete security platform.</span>
      </h2>
      <p class="text-text-muted max-w-2xl mx-auto">
        Tracehound is the foundation. Five products working together to protect your runtime.
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-6xl mx-auto">
      {
        products.map((product) => {
          const Icon = product.icon
          return (
            <a
              href={product.href}
              class={cn(
                'group p-6 bg-surface/30 border border-surface-highlight/50 rounded-lg hover:border-surface-highlight transition-all',
                {
                  'opacity-50 border-surface-highlight/10 hover:border-surface-highlight/10':
                    product.status === 'coming',
                }
              )}
              style={`--product-color: ${product.color}`}>
              <div class="flex items-start justify-between mb-4">
                <div
                  class="w-10 h-10 rounded-lg border flex items-center justify-center shrink-0"
                  style={`background: ${product.color}15; border-color: ${product.color}30; color: ${product.color}`}>
                  <Icon className="w-5 h-5" />
                </div>
                <span
                  class={`text-xs px-2 py-1 rounded-full border ${statusStyles[product.status]}`}>
                  {product.statusLabel}
                </span>
              </div>

              <div class="mb-3">
                <h3
                  class="font-semibold text-lg group-hover:text-white transition-colors"
                  style={`color: ${product.color}`}>
                  {product.name}
                </h3>
                <span class="text-xs text-text-muted">{product.tagline}</span>
              </div>

              <p class="text-sm text-text-muted mb-4">{product.description}</p>

              <div class="flex items-center text-xs text-text-muted group-hover:text-white transition-colors">
                <span>Learn more</span>
                <ChevronRight className="w-4 h-4 ml-1 group-hover:translate-x-0.5 transition-transform" />
              </div>
            </a>
          )
        })
      }

      <div
        class="group p-6 bg-surface/30 rounded-lg text-white/20 flex items-center justify-center text-xs select-none pointer-events-none"
      >
        Wait for the signals...
      </div>
    </div>
  </div>
</section>
